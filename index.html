<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ® Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø£Ù„ØºØ§Ø² Ù„Ù„Ø£Ø·ÙØ§Ù„</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap');

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Tajawal', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    header {
      text-align: center;
      padding: 30px 20px 10px;
      color: white;
    }
    header h1 { font-size: 2.5rem; text-shadow: 2px 2px 6px rgba(0,0,0,0.3); }
    header p { font-size: 1.1rem; opacity: 0.9; margin-top: 8px; }

    /* Age Tabs */
    .tabs {
      display: flex;
      gap: 16px;
      margin: 20px 0;
    }
    .tab-btn {
      padding: 14px 36px;
      border: none;
      border-radius: 50px;
      font-size: 1.2rem;
      font-family: 'Tajawal', sans-serif;
      font-weight: 700;
      cursor: pointer;
      transition: all .3s;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    .tab-btn.age3 { background: #FF6B9D; color: white; }
    .tab-btn.age5 { background: #4ECDC4; color: white; }
    .tab-btn.active { transform: scale(1.08); box-shadow: 0 6px 20px rgba(0,0,0,0.35); }
    .tab-btn:not(.active) { opacity: 0.65; }

    /* Sections */
    .section { display: none; width: 100%; max-width: 900px; padding: 0 16px 40px; }
    .section.visible { display: block; }

    /* Score bar */
    .score-bar {
      background: rgba(255,255,255,0.2);
      border-radius: 16px;
      padding: 10px 20px;
      color: white;
      font-size: 1.1rem;
      text-align: center;
      margin-bottom: 20px;
    }
    .score-bar span { font-size: 1.5rem; font-weight: 900; }

    /* Game Cards */
    .game-card {
      background: white;
      border-radius: 24px;
      padding: 28px;
      margin-bottom: 28px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.15);
      position: relative;
      overflow: hidden;
    }
    .game-card::before {
      content: '';
      position: absolute;
      top: 0; right: 0;
      width: 120px; height: 120px;
      border-radius: 0 0 0 100%;
      opacity: 0.08;
    }
    .card-3::before { background: #FF6B9D; }
    .card-5::before { background: #4ECDC4; }

    .game-title {
      font-size: 1.4rem;
      font-weight: 900;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .game-desc { color: #666; font-size: 0.95rem; margin-bottom: 20px; }

    /* ========================
       GAME 1 â€“ Matching Emojis (age 3)
    ======================== */
    .match-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
    }
    .match-card {
      aspect-ratio: 1;
      background: linear-gradient(135deg, #f093fb, #f5576c);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.4rem;
      cursor: pointer;
      user-select: none;
      transition: transform .2s, box-shadow .2s;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      position: relative;
    }
    .match-card.flipped { background: linear-gradient(135deg, #a18cd1, #fbc2eb); }
    .match-card.matched { background: linear-gradient(135deg, #84fab0, #8fd3f4); pointer-events: none; }
    .match-card:hover:not(.matched) { transform: scale(1.05); }
    .match-card .cover {
      position: absolute; inset: 0;
      background: linear-gradient(135deg, #f093fb, #f5576c);
      border-radius: 16px;
      display: flex; align-items: center; justify-content: center;
      font-size: 1.8rem;
      transition: opacity .3s;
    }
    .match-card.flipped .cover,
    .match-card.matched .cover { opacity: 0; pointer-events: none; }

    /* ========================
       GAME 2 â€“ Colors Quiz (age 3)
    ======================== */
    .color-question {
      text-align: center;
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 16px;
      color: #333;
    }
    .color-options {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
    }
    .color-btn {
      width: 80px; height: 80px;
      border-radius: 50%;
      border: 4px solid transparent;
      cursor: pointer;
      transition: transform .2s, border-color .2s;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    .color-btn:hover { transform: scale(1.1); }
    .color-btn.correct { border-color: #2ecc71; transform: scale(1.15); }
    .color-btn.wrong { border-color: #e74c3c; animation: shake .4s; }

    /* ========================
       GAME 3 â€“ Animal Sound (age 3)
    ======================== */
    .animal-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }
    .animal-btn {
      padding: 16px 8px;
      border-radius: 18px;
      border: 3px solid transparent;
      background: #f8f9fa;
      cursor: pointer;
      font-family: 'Tajawal', sans-serif;
      transition: all .25s;
      text-align: center;
    }
    .animal-btn .emoji { font-size: 2.5rem; display: block; }
    .animal-btn .name { font-size: 0.9rem; color: #555; margin-top: 4px; }
    .animal-btn:hover { background: #e8f4fd; transform: translateY(-2px); }
    .animal-btn.correct { background: #d4edda; border-color: #28a745; }
    .animal-btn.wrong { background: #f8d7da; border-color: #dc3545; animation: shake .4s; }
    .animal-question { font-size: 1.15rem; font-weight: 700; text-align: center; margin-bottom: 16px; color: #333; }

    /* ========================
       GAME 4 â€“ Count Items (age 5)
    ======================== */
    .count-area {
      text-align: center;
    }
    .count-emojis {
      font-size: 2.8rem;
      letter-spacing: 6px;
      margin: 14px 0;
      min-height: 60px;
      word-break: break-all;
    }
    .count-question { font-size: 1.2rem; font-weight: 700; color: #333; margin-bottom: 14px; }
    .count-choices {
      display: flex; flex-wrap: wrap; gap: 12px; justify-content: center;
    }
    .count-choice {
      width: 64px; height: 64px;
      border-radius: 14px;
      font-size: 1.5rem;
      font-weight: 900;
      border: 3px solid #ddd;
      background: #f8f9fa;
      cursor: pointer;
      font-family: 'Tajawal', sans-serif;
      transition: all .2s;
    }
    .count-choice:hover { background: #e8f4fd; border-color: #4ECDC4; }
    .count-choice.correct { background: #d4edda; border-color: #28a745; }
    .count-choice.wrong { background: #f8d7da; border-color: #dc3545; animation: shake .4s; }

    /* ========================
       GAME 5 â€“ Missing Letter (age 5)
    ======================== */
    .word-display {
      font-size: 2.5rem;
      text-align: center;
      letter-spacing: 16px;
      margin: 10px 0 20px;
      color: #333;
    }
    .word-display .blank {
      display: inline-block;
      width: 50px;
      border-bottom: 4px solid #4ECDC4;
      color: #4ECDC4;
      font-weight: 900;
    }
    .letter-choices {
      display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;
    }
    .letter-btn {
      width: 56px; height: 56px;
      border-radius: 12px;
      font-size: 1.4rem;
      font-weight: 700;
      border: 3px solid #ddd;
      background: #f8f9fa;
      cursor: pointer;
      font-family: 'Tajawal', sans-serif;
      transition: all .2s;
    }
    .letter-btn:hover { background: #e8f4fd; border-color: #4ECDC4; }
    .letter-btn.correct { background: #d4edda; border-color: #28a745; }
    .letter-btn.wrong { background: #f8d7da; border-color: #dc3545; animation: shake .4s; }

    /* ========================
       GAME 6 â€“ Sequence (age 5)
    ======================== */
    .sequence-row {
      display: flex; gap: 12px; align-items: center; flex-wrap: wrap;
      margin-bottom: 16px; justify-content: center;
    }
    .seq-item {
      width: 64px; height: 64px;
      border-radius: 14px;
      font-size: 2rem;
      display: flex; align-items: center; justify-content: center;
      background: #f0f0f0;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }
    .seq-item.unknown { background: #e8e8e8; color: #aaa; font-size: 1.4rem; }
    .seq-choices { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
    .seq-btn {
      padding: 10px 20px;
      border-radius: 12px;
      font-size: 1.5rem;
      border: 3px solid #ddd;
      background: #f8f9fa;
      cursor: pointer;
      transition: all .2s;
    }
    .seq-btn:hover { background: #e8f4fd; border-color: #4ECDC4; }
    .seq-btn.correct { background: #d4edda; border-color: #28a745; }
    .seq-btn.wrong { background: #f8d7da; border-color: #dc3545; animation: shake .4s; }

    /* Feedback */
    .feedback {
      text-align: center;
      padding: 10px;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 700;
      margin-top: 14px;
      min-height: 44px;
      transition: all .3s;
    }
    .feedback.success { background: #d4edda; color: #155724; }
    .feedback.error { background: #f8d7da; color: #721c24; }

    .next-btn {
      display: block;
      margin: 14px auto 0;
      padding: 12px 32px;
      border: none;
      border-radius: 50px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      font-size: 1rem;
      font-family: 'Tajawal', sans-serif;
      font-weight: 700;
      cursor: pointer;
      transition: transform .2s;
    }
    .next-btn:hover { transform: scale(1.05); }

    @keyframes shake {
      0%,100% { transform: translateX(0); }
      25% { transform: translateX(-6px); }
      75% { transform: translateX(6px); }
    }
    @keyframes bounce {
      0%,100% { transform: scale(1); }
      50% { transform: scale(1.15); }
    }
    .bounce { animation: bounce .5s; }

    footer {
      text-align: center;
      color: rgba(255,255,255,0.7);
      padding: 20px;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>

<header>
  <h1>ğŸ® Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø£Ù„ØºØ§Ø² Ù„Ù„Ø£Ø·ÙØ§Ù„</h1>
  <p>ØªØ­Ø¯ÙŠØ§Øª Ø°Ù‡Ù†ÙŠØ© Ù…Ù…ØªØ¹Ø© â€” Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¹Ù…Ø±ÙŠØ©!</p>
</header>

<!-- Age Tabs -->
<div class="tabs">
  <button class="tab-btn age3 active" onclick="showAge(3)">ğŸ£ Ø¹Ù…Ø± 3 Ø³Ù†ÙˆØ§Øª</button>
  <button class="tab-btn age5" onclick="showAge(5)">ğŸ¦ Ø¹Ù…Ø± 5 Ø³Ù†ÙˆØ§Øª</button>
</div>

<!-- Score -->
<div style="max-width:900px;width:100%;padding:0 16px">
  <div class="score-bar">â­ Ù†Ù‚Ø§Ø·ÙŠ: <span id="score">0</span></div>
</div>

<!-- ===================== AGE 3 ===================== -->
<div class="section visible" id="section3">

  <!-- Game 1: Memory Match -->
  <div class="game-card card-3">
    <div class="game-title">ğŸƒ Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©</div>
    <div class="game-desc">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ÙˆØ¬Ø¯ Ø§Ù„Ù…ØªØ´Ø§Ø¨Ù‡ÙŠÙ†!</div>
    <div class="match-grid" id="matchGrid"></div>
    <div class="feedback" id="matchFeedback"></div>
    <button class="next-btn" onclick="initMatch()">ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
  </div>

  <!-- Game 2: Colors -->
  <div class="game-card card-3">
    <div class="game-title">ğŸ¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø£Ù„ÙˆØ§Ù†</div>
    <div class="game-desc">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„ØµØ­ÙŠØ­!</div>
    <div class="color-question" id="colorQ"></div>
    <div class="color-options" id="colorOptions"></div>
    <div class="feedback" id="colorFeedback"></div>
  </div>

  <!-- Game 3: Animal Sounds -->
  <div class="game-card card-3">
    <div class="game-title">ğŸ¾ Ø£ØµÙˆØ§Øª Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª</div>
    <div class="game-desc">Ù…Ù† Ø§Ù„Ø°ÙŠ ÙŠØµØ¯Ø± Ù‡Ø°Ø§ Ø§Ù„ØµÙˆØªØŸ</div>
    <div class="animal-question" id="animalQ"></div>
    <div class="animal-grid" id="animalGrid"></div>
    <div class="feedback" id="animalFeedback"></div>
  </div>

</div>

<!-- ===================== AGE 5 ===================== -->
<div class="section" id="section5">

  <!-- Game 4: Counting -->
  <div class="game-card card-5">
    <div class="game-title">ğŸ”¢ ØªØ­Ø¯ÙŠ Ø§Ù„Ø¹Ø¯</div>
    <div class="game-desc">Ø¹Ø¯ Ø§Ù„Ø±Ù…ÙˆØ² ÙˆØ§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©!</div>
    <div class="count-area">
      <div class="count-question" id="countQ"></div>
      <div class="count-emojis" id="countEmojis"></div>
      <div class="count-choices" id="countChoices"></div>
    </div>
    <div class="feedback" id="countFeedback"></div>
  </div>

  <!-- Game 5: Missing Letter (Arabic words) -->
  <div class="game-card card-5">
    <div class="game-title">ğŸ”¤ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù†Ø§Ù‚Øµ</div>
    <div class="game-desc">Ø£ÙƒÙ…Ù„ Ø§Ù„ÙƒÙ„Ù…Ø© Ø¨Ø§Ù„Ø­Ø±Ù Ø§Ù„ØµØ­ÙŠØ­!</div>
    <div class="word-display" id="wordDisplay"></div>
    <div class="letter-choices" id="letterChoices"></div>
    <div class="feedback" id="letterFeedback"></div>
  </div>

  <!-- Game 6: Pattern Sequence -->
  <div class="game-card card-5">
    <div class="game-title">ğŸ”® Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù†Ù…Ø·</div>
    <div class="game-desc">Ù…Ø§ Ø§Ù„ØªØ§Ù„ÙŠ ÙÙŠ Ø§Ù„Ø³Ù„Ø³Ù„Ø©ØŸ</div>
    <div class="sequence-row" id="seqRow"></div>
    <div class="seq-choices" id="seqChoices"></div>
    <div class="feedback" id="seqFeedback"></div>
  </div>

</div>

<footer>ğŸŒŸ Ø¨Ø§Ù„ØªÙˆÙÙŠÙ‚! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨ ÙˆØ§Ù„ØªØ¹Ù„Ù… ğŸŒŸ</footer>

<script>
  let totalScore = 0;
  function addScore(pts) {
    totalScore += pts;
    document.getElementById('score').textContent = totalScore;
    document.getElementById('score').classList.add('bounce');
    setTimeout(() => document.getElementById('score').classList.remove('bounce'), 500);
  }

  function showAge(age) {
    document.getElementById('section3').classList.toggle('visible', age === 3);
    document.getElementById('section5').classList.toggle('visible', age === 5);
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.querySelector(`.tab-btn.age${age}`).classList.add('active');
  }

  function setFeedback(id, msg, ok) {
    const el = document.getElementById(id);
    el.textContent = msg;
    el.className = 'feedback ' + (ok ? 'success' : 'error');
  }

  /* ===================== GAME 1: Memory Match ===================== */
  const matchEmojis = ['ğŸ¶','ğŸ±','ğŸ­','ğŸ¹','ğŸ°','ğŸ¦Š','ğŸ»','ğŸ¼'];
  let firstCard = null, secondCard = null, lockMatch = false, matchedPairs = 0;

  function initMatch() {
    matchedPairs = 0;
    firstCard = null; secondCard = null; lockMatch = false;
    document.getElementById('matchFeedback').textContent = '';
    document.getElementById('matchFeedback').className = 'feedback';
    const arr = [...matchEmojis, ...matchEmojis].sort(() => Math.random() - .5);
    const grid = document.getElementById('matchGrid');
    grid.innerHTML = '';
    arr.forEach(emoji => {
      const card = document.createElement('div');
      card.className = 'match-card';
      card.dataset.emoji = emoji;
      card.innerHTML = `<span class="cover">â“</span><span class="front">${emoji}</span>`;
      card.addEventListener('click', flipCard);
      grid.appendChild(card);
    });
  }

  function flipCard() {
    if (lockMatch || this.classList.contains('flipped') || this.classList.contains('matched')) return;
    this.classList.add('flipped');
    if (!firstCard) { firstCard = this; return; }
    secondCard = this;
    lockMatch = true;
    if (firstCard.dataset.emoji === secondCard.dataset.emoji) {
      firstCard.classList.add('matched');
      secondCard.classList.add('matched');
      firstCard = null; secondCard = null; lockMatch = false;
      matchedPairs++;
      if (matchedPairs === matchEmojis.length) {
        setFeedback('matchFeedback', 'ğŸ‰ Ø£Ø­Ø³Ù†Øª! ÙˆØ¬Ø¯Øª ÙƒÙ„ Ø§Ù„Ø£Ø²ÙˆØ§Ø¬!', true);
        addScore(20);
      }
    } else {
      setTimeout(() => {
        firstCard.classList.remove('flipped');
        secondCard.classList.remove('flipped');
        firstCard = null; secondCard = null; lockMatch = false;
      }, 900);
    }
  }

  /* ===================== GAME 2: Colors ===================== */
  const colors3 = [
    { name: 'Ø§Ù„Ø£Ø­Ù…Ø±', hex: '#e74c3c' },
    { name: 'Ø§Ù„Ø£Ø²Ø±Ù‚', hex: '#3498db' },
    { name: 'Ø§Ù„Ø£ØµÙØ±', hex: '#f1c40f' },
    { name: 'Ø§Ù„Ø£Ø®Ø¶Ø±', hex: '#2ecc71' },
    { name: 'Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ', hex: '#e67e22' },
    { name: 'Ø§Ù„ÙˆØ±Ø¯ÙŠ', hex: '#ff6b9d' },
  ];
  let currentColor;

  function initColor() {
    currentColor = colors3[Math.floor(Math.random() * colors3.length)];
    document.getElementById('colorQ').textContent = `ğŸ‘† Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆÙ†: ${currentColor.name}`;
    document.getElementById('colorFeedback').textContent = '';
    document.getElementById('colorFeedback').className = 'feedback';
    const opts = [...colors3].sort(() => Math.random() - .5);
    const div = document.getElementById('colorOptions');
    div.innerHTML = '';
    opts.forEach(c => {
      const btn = document.createElement('div');
      btn.className = 'color-btn';
      btn.style.background = c.hex;
      btn.addEventListener('click', () => {
        if (c.hex === currentColor.hex) {
          btn.classList.add('correct');
          setFeedback('colorFeedback', 'âœ… Ù…Ù…ØªØ§Ø²! Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!', true);
          addScore(10);
          setTimeout(initColor, 1400);
        } else {
          btn.classList.add('wrong');
          setFeedback('colorFeedback', 'âŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©!', false);
          setTimeout(() => btn.classList.remove('wrong'), 500);
        }
      });
      div.appendChild(btn);
    });
  }

  /* ===================== GAME 3: Animals ===================== */
  const animals = [
    { emoji: 'ğŸ„', name: 'Ø§Ù„Ø¨Ù‚Ø±Ø©', sound: 'ØªÙ‚ÙˆÙ„: Ø®ÙˆØ§Ø± ğŸ„' },
    { emoji: 'ğŸ¸', name: 'Ø§Ù„Ø¶ÙØ¯Ø¹', sound: 'ØªÙ‚ÙˆÙ„: Ù†Ù‚ÙŠÙ‚ ğŸ¸' },
    { emoji: 'ğŸ±', name: 'Ø§Ù„Ù‚Ø·Ø©', sound: 'ØªÙ‚ÙˆÙ„: Ù…ÙŠØ§Ùˆ ğŸ±' },
    { emoji: 'ğŸ¶', name: 'Ø§Ù„ÙƒÙ„Ø¨', sound: 'ØªÙ‚ÙˆÙ„: Ù‡Ø§Ùˆ Ù‡Ø§Ùˆ ğŸ¶' },
    { emoji: 'ğŸ”', name: 'Ø§Ù„Ø¯Ø¬Ø§Ø¬Ø©', sound: 'ØªÙ‚ÙˆÙ„: ÙƒÙˆ ÙƒÙˆ ğŸ”' },
    { emoji: 'ğŸ¦', name: 'Ø§Ù„Ø£Ø³Ø¯', sound: 'ÙŠØ²Ø£Ø± ğŸ¦' },
    { emoji: 'ğŸ¸', name: 'Ø§Ù„Ø¶ÙØ¯Ø¹', sound: 'ØªÙ‚ÙˆÙ„: Ù†Ù‚ÙŠÙ‚ ğŸ¸' },
    { emoji: 'ğŸ‘', name: 'Ø§Ù„Ø®Ø±ÙˆÙ', sound: 'ÙŠÙ‚ÙˆÙ„: Ù…Ø§Ø¡ ğŸ‘' },
  ];
  let currentAnimal;

  function initAnimal() {
    const unique = [...new Map(animals.map(a => [a.emoji, a])).values()];
    currentAnimal = unique[Math.floor(Math.random() * unique.length)];
    document.getElementById('animalQ').textContent = `ğŸ”Š Ù…Ù† Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ${currentAnimal.sound}ØŸ`;
    document.getElementById('animalFeedback').textContent = '';
    document.getElementById('animalFeedback').className = 'feedback';
    const choices = [currentAnimal, ...unique.filter(a => a.emoji !== currentAnimal.emoji)
      .sort(() => Math.random() - .5).slice(0, 5)]
      .sort(() => Math.random() - .5);
    const grid = document.getElementById('animalGrid');
    grid.innerHTML = '';
    choices.forEach(a => {
      const btn = document.createElement('button');
      btn.className = 'animal-btn';
      btn.innerHTML = `<span class="emoji">${a.emoji}</span><span class="name">${a.name}</span>`;
      btn.addEventListener('click', () => {
        if (a.emoji === currentAnimal.emoji) {
          btn.classList.add('correct');
          setFeedback('animalFeedback', 'ğŸ‰ ØµØ­ÙŠØ­! Ø£Ø­Ø³Ù†Øª!', true);
          addScore(10);
          setTimeout(initAnimal, 1400);
        } else {
          btn.classList.add('wrong');
          setFeedback('animalFeedback', 'âŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!', false);
          setTimeout(() => btn.classList.remove('wrong'), 500);
        }
      });
      grid.appendChild(btn);
    });
  }

  /* ===================== GAME 4: Counting ===================== */
  const countEmojis5 = ['â­','ğŸ','ğŸŒ¸','ğŸˆ','ğŸŸ','ğŸ­','ğŸŒŸ','ğŸ¦‹'];
  let correctCount;

  function initCount() {
    const emoji = countEmojis5[Math.floor(Math.random() * countEmojis5.length)];
    correctCount = Math.floor(Math.random() * 9) + 2;
    document.getElementById('countQ').textContent = `ÙƒÙ… Ø¹Ø¯Ø¯ ${emoji} ØŸ`;
    document.getElementById('countEmojis').textContent = emoji.repeat(correctCount);
    document.getElementById('countFeedback').textContent = '';
    document.getElementById('countFeedback').className = 'feedback';
    let choices = new Set([correctCount]);
    while (choices.size < 4) choices.add(Math.floor(Math.random() * 12) + 1);
    const div = document.getElementById('countChoices');
    div.innerHTML = '';
    [...choices].sort(() => Math.random() - .5).forEach(n => {
      const btn = document.createElement('button');
      btn.className = 'count-choice';
      btn.textContent = n;
      btn.addEventListener('click', () => {
        if (+btn.textContent === correctCount) {
          btn.classList.add('correct');
          setFeedback('countFeedback', `âœ… ØµØ­ÙŠØ­! Ø§Ù„Ø¹Ø¯Ø¯ Ù‡Ùˆ ${correctCount}`, true);
          addScore(15);
          setTimeout(initCount, 1400);
        } else {
          btn.classList.add('wrong');
          setFeedback('countFeedback', 'âŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!', false);
          setTimeout(() => btn.classList.remove('wrong'), 500);
        }
      });
      div.appendChild(btn);
    });
  }

  /* ===================== GAME 5: Missing Letter ===================== */
  const words5 = [
    { word: 'Ù‚ÙØ·ÙÙ‘Ø©', blank: 1, letters: ['Ø·','Ù…','Ø±','Ø³','Ø¨'] },
    { word: 'ÙƒÙØªÙØ§Ø¨', blank: 0, letters: ['Ùƒ','Ù…','Ø­','Ùˆ','Ù†'] },
    { word: 'Ø´ÙÙ…Ù’Ø³', blank: 2, letters: ['Ù…','Ù†','Ù‚','Ø±','Ù„'] },
    { word: 'Ø¨ÙÙŠÙ’Øª', blank: 3, letters: ['Øª','Ùƒ','Ù…','Ø´','Ø¨'] },
    { word: 'Ø³ÙÙ…ÙÙƒ', blank: 2, letters: ['Ù…','Ùƒ','Ø±','Ø¹','Ùˆ'] },
    { word: 'Ø£ÙØ³ÙØ¯', blank: 1, letters: ['Ø³','Ù‚','Ù…','Ø±','Øª'] },
    { word: 'Ø²ÙÙ‡Ù’Ø±ÙØ©', blank: 0, letters: ['Ø²','Ù','Ø¹','Ø±','Ù„'] },
    { word: 'Ù†ÙÙ…ÙØ±', blank: 3, letters: ['Ø±','Ùƒ','Ù…','Ø³','Ø¨'] },
  ];
  let currentWord;

  function initWord() {
    currentWord = words5[Math.floor(Math.random() * words5.length)];
    const chars = [...currentWord.word];
    const displayed = chars.map((c, i) =>
      i === currentWord.blank
        ? `<span class="blank">_</span>`
        : `<span>${c}</span>`
    ).join('');
    document.getElementById('wordDisplay').innerHTML = displayed;
    document.getElementById('letterFeedback').textContent = '';
    document.getElementById('letterFeedback').className = 'feedback';
    const correct = [...currentWord.word][currentWord.blank];
    const allLetters = [...new Set([correct, ...currentWord.letters])].sort(() => Math.random() - .5).slice(0, 5);
    if (!allLetters.includes(correct)) allLetters[0] = correct;
    const div = document.getElementById('letterChoices');
    div.innerHTML = '';
    allLetters.sort(() => Math.random() - .5).forEach(l => {
      const btn = document.createElement('button');
      btn.className = 'letter-btn';
      btn.textContent = l;
      btn.addEventListener('click', () => {
        if (l === correct) {
          btn.classList.add('correct');
          setFeedback('letterFeedback', `âœ… Ù…Ù…ØªØ§Ø²! Ø§Ù„Ø­Ø±Ù Ù‡Ùˆ "${correct}"`, true);
          addScore(15);
          setTimeout(initWord, 1400);
        } else {
          btn.classList.add('wrong');
          setFeedback('letterFeedback', 'âŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!', false);
          setTimeout(() => btn.classList.remove('wrong'), 500);
        }
      });
      div.appendChild(btn);
    });
  }

  /* ===================== GAME 6: Sequence ===================== */
  const sequences = [
    ['ğŸ¶','ğŸ±','ğŸ¶','ğŸ±','ğŸ¶','?'], // answer: ğŸ±
    ['â­','â­','ğŸŒ™','â­','â­','?'], // ğŸŒ™
    ['ğŸ','ğŸŒ','ğŸ','ğŸŒ','ğŸ','?'], // ğŸŒ
    ['ğŸ”µ','ğŸ”´','ğŸ”µ','ğŸ”´','ğŸ”µ','?'], // ğŸ”´
    ['1ï¸âƒ£','2ï¸âƒ£','3ï¸âƒ£','4ï¸âƒ£','5ï¸âƒ£','?'], // 6ï¸âƒ£
    ['ğŸŒ¸','ğŸŒº','ğŸŒ¸','ğŸŒº','ğŸŒ¸','?'], // ğŸŒº
    ['ğŸ ','ğŸŸ','ğŸ ','ğŸŸ','ğŸ ','?'], // ğŸŸ
  ];
  let currentSeq, seqAnswer;

  function initSeq() {
    const seq = sequences[Math.floor(Math.random() * sequences.length)];
    currentSeq = seq.slice(0, -1);
    seqAnswer = seq.slice(-2, -1)[0]; // the one before ?
    document.getElementById('seqFeedback').textContent = '';
    document.getElementById('seqFeedback').className = 'feedback';
    const row = document.getElementById('seqRow');
    row.innerHTML = '';
    currentSeq.forEach((item, i) => {
      const div = document.createElement('div');
      div.className = 'seq-item' + (i === currentSeq.length - 1 ? '' : '');
      div.textContent = item;
      row.appendChild(div);
    });
    const q = document.createElement('div');
    q.className = 'seq-item unknown';
    q.textContent = '?';
    row.appendChild(q);

    // Wrong choices
    const wrongPool = ['ğŸŒˆ','ğŸ¸','ğŸ€','ğŸŒ´','ğŸ¦‹','ğŸš€','ğŸ€','ğŸŒŠ'];
    const wrongs = wrongPool.filter(e => !seq.includes(e)).slice(0, 3);
    const all = [seqAnswer, ...wrongs].sort(() => Math.random() - .5);
    const choicesDiv = document.getElementById('seqChoices');
    choicesDiv.innerHTML = '';
    all.forEach(e => {
      const btn = document.createElement('button');
      btn.className = 'seq-btn';
      btn.textContent = e;
      btn.addEventListener('click', () => {
        if (e === seqAnswer) {
          btn.classList.add('correct');
          setFeedback('seqFeedback', 'ğŸ‰ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø¹Ø¨Ù‚Ø±ÙŠ!', true);
          addScore(15);
          setTimeout(initSeq, 1400);
        } else {
          btn.classList.add('wrong');
          setFeedback('seqFeedback', 'âŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!', false);
          setTimeout(() => btn.classList.remove('wrong'), 500);
        }
      });
      choicesDiv.appendChild(btn);
    });
  }

  // Init all
  initMatch();
  initColor();
  initAnimal();
  initCount();
  initWord();
  initSeq();
</script>
</body>
</html>
